<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0048)http://www.openimscore.org/?q=installation_guide -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
<link rel="shortcut icon" href="http://www.openimscore.org/docs/garland_favicon.gif" type="image/x-icon">
    <title>OpenIMSCore Installation Guide |  OpenIMSCore.org</title>
    <link type="text/css" rel="stylesheet" media="all" href="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/css_3a1651a757ae3e714c1029e4de34fd5f.css">
<link type="text/css" rel="stylesheet" media="print" href="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/css_a75ab5a8734eb67f2db98decc01c2ce2.css">
        <!--[if lt IE 7]>
      <link type="text/css" rel="stylesheet" media="all" href="/themes/garland/fix-ie.css" />    <![endif]-->
  </head>
  <body class="sidebar-left">

<!-- Layout -->
  <div id="header-region" class="clear-block"></div>

    <div id="wrapper">
    <div id="container" class="clear-block">

      <div id="header">
        <div id="logo-floater">
        <h1><a href="http://www.openimscore.org/" title=""><img src="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/logoOpenSource_gross.png" alt="" id="logo"></a></h1>        </div>

                  <ul class="links primary-links"><li class="menu-41 first"><a href="http://www.openimscore.org/">Home</a></li>
<li class="menu-44"><a href="http://www.openimscore.org/?q=news">News</a></li>
<li class="menu-43 active-trail"><a href="http://www.openimscore.org/?q=doc">Documentation</a></li>
<li class="menu-42"><a href="http://www.openimscore.org/?q=download" title="Get the source code or snapshots">Download</a></li>
<li class="menu-70"><a href="http://www.openimscore.org/?q=maillists">Mailing Lists</a></li>
<li class="menu-124 last"><a href="http://www.openimscore.org/?q=node/120">External Resources &amp; Links</a></li>
</ul>                          <ul class="links secondary-links"><li class="menu-68 active-trail first active"><a href="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/OpenIMSCore Installation Guide   OpenIMSCore.org.html" title="This page will walk you through the installation process of the Open IMS Core" class="active">Installation Guide</a></li>
<li class="menu-128"><a href="http://www.openimscore.org/?q=node/143" title="Esta página te guiará a través del proceso de instalación del Core Open IMS">Guía de instalación</a></li>
<li class="menu-129"><a href="http://www.openimscore.org/?q=debian_packages" title="This page will walk you through the building of debian packages process of the Open IMS Core">Building Debian Packages</a></li>
<li class="menu-71"><a href="http://www.openimscore.org/?q=faq_old" title="Frequently Asked Questions">FAQ_old</a></li>
<li class="menu-274 last"><a href="http://www.openimscore.org/?q=emergency" title="Emergency Services">Emergency Branch</a></li>
</ul>        
      </div> <!-- /header -->

              <div id="sidebar-left" class="sidebar">
          <div class="block block-theme"><form action="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/OpenIMSCore Installation Guide   OpenIMSCore.org.html" accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text">
</div>
<input type="submit" name="op" id="edit-submit" value="Search" class="form-submit">
<input type="hidden" name="form_build_id" id="form-j5oaRuojSr5yOcOh6UZ0KsdojoVQ1jIqyezGcNojo5Y" value="form-j5oaRuojSr5yOcOh6UZ0KsdojoVQ1jIqyezGcNojo5Y">
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form">
</div>

</div></form>
</div>          <div id="block-menu-primary-links" class="clear-block block block-menu">


  <div class="content"><ul class="menu"><li class="leaf first"><a href="http://www.openimscore.org/">Home</a></li>
<li class="leaf"><a href="http://www.openimscore.org/?q=news">News</a></li>
<li class="expanded active-trail"><a href="http://www.openimscore.org/?q=doc">Documentation</a><ul class="menu"><li class="leaf first active-trail"><a href="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/OpenIMSCore Installation Guide   OpenIMSCore.org.html" title="This page will walk you through the installation process of the Open IMS Core" class="active">Installation Guide</a></li>
<li class="leaf"><a href="http://www.openimscore.org/?q=node/143" title="Esta página te guiará a través del proceso de instalación del Core Open IMS">Guía de instalación</a></li>
<li class="leaf"><a href="http://www.openimscore.org/?q=debian_packages" title="This page will walk you through the building of debian packages process of the Open IMS Core">Building Debian Packages</a></li>
<li class="leaf"><a href="http://www.openimscore.org/?q=faq_old" title="Frequently Asked Questions">FAQ_old</a></li>
<li class="leaf last"><a href="http://www.openimscore.org/?q=emergency" title="Emergency Services">Emergency Branch</a></li>
</ul></li>
<li class="expanded"><a href="http://www.openimscore.org/?q=download" title="Get the source code or snapshots">Download</a><ul class="menu"><li class="leaf first last"><a href="http://www.openimscore.org/?q=vm" title="For the impatient and no-Linux experience user, you can try these pre-built virtual machines (very old though)">Ready-to-Run VMs</a></li>
</ul></li>
<li class="leaf"><a href="http://www.openimscore.org/?q=maillists">Mailing Lists</a></li>
<li class="expanded last"><a href="http://www.openimscore.org/?q=node/120">External Resources &amp; Links</a><ul class="menu"><li class="leaf first"><a href="http://www.openimscore.org/?q=aggregator/categories/2">IMS Blogs</a></li>
<li class="leaf last"><a href="http://www.openimscore.org/?q=links" title="some external links">Links for IMS Developers</a></li>
</ul></li>
</ul></div>
</div>
        </div>
      
      <div id="center"><div id="squeeze"><div class="right-corner"><div class="left-corner">
          <div class="breadcrumb"><a href="http://www.openimscore.org/">Home</a></div>                              <h2>OpenIMSCore Installation Guide</h2>                                                  <div class="clear-block">
            <div id="node-3" class="node">



  
  <div class="content clear-block">
    <div id="bodycol">
<div id="apphead">
<h2>
<em>Installation Guide</em><br>
</h2>
</div>
<div class="app" id="projecthome">
<ul class="minitoc">
<li>
<a href="http://www.openimscore.org/?q=installation_guide#Overview">Overview</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#installscript">Quick Install</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step1">Step 1: Prerequisites</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step2">Step 2: Get the Source Code</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step3">Step 3: Compile</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step4">Step 4: Configure the Environment</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step5">Step 5: Configure the IMS Core</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step6">Step 6: Start the components</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step7">Step 7: Configure Subscribers</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#step8">Step 8: Test!</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#annexa">Annex A - DNS HOWTO</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#annexb">Annex B - SIP Clients How-To</a>
<ul class="minitoc"></ul>
</li>
<li>
<a href="http://www.openimscore.org/?q=installation_guide#annexc">Annex C - Changing the Domain Name and IP-Address of configuration files</a>
<ul class="minitoc"></ul>
</li>
</ul>
<p><a name="N1000D"></a><a name="Overview"></a></p>
<div class="h3">
<h3>Overview</h3>
<p>		This page is supposed to help you jump-start the Open IMS Core. In the SVN distribution, the whole things is pre-configured and pre-provisioned with a set of minimal data that should be enough for a simple "Alice-calls-Bob" trial.
	  </p>
</div>
<p><a name="N10017"></a><a name="installscript"></a></p>
<div class="h3">
<h3>Quick Install</h3>
<p>
      	If you already went once through the installation procedure, this section will help refresh your memory on what steps you are supposed to follow. If this is your first time, skip over it for now and start with Step 1.
      </p>
<pre class="code">      	
      	mkdir /opt/OpenIMSCore 
      	cd /opt/OpenIMSCore

      	mkdir FHoSS 
      	svn checkout <a href="https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk" title="https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk">https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk</a> FHoSS

      	mkdir ser_ims 
      	svn checkout <a href="https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk" title="https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk">https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk</a> ser_ims

      	cd FHoSS 
      	ant compile deploy 
      	cd ..

      	cd ser_ims 
      	make install-libs all 
      	cd ..

      	mysql -u root -p &lt; FHoSS/scripts/hss_db.sql 
      	mysql -u root -p &lt; FHoSS/scripts/userdata.sql

      	mysql -u root -p &lt; ser_ims/cfg/icscf.sql 

      	cp ser_ims/cfg/*.cfg . 
      	cp ser_ims/cfg/*.xml . 
      	cp ser_ims/cfg/*.sh .
      	
      </pre></div>
<p><a name="N10025"></a><a name="step1"></a></p>
<div class="h3">
<h3>Step 1: Prerequisites</h3>
<ul>
<li>Hardware requirements
<ul>
<li>A current Linux desktop class machine should be enough</li>
<li>If you want to get ultimate performance:
<ul>
<li>Add several Gigabytes of RAM</li>
<li>Have as many CPUs/Cores as</li>
<li>Gigabit Ethernet would help</li>
</ul>
</li>
</ul>
</li>
<li>Network access
<ul>
<li>A current Linux desktop class machine should be enough</li>
<li>Inter-domain NAT is not something we are interested in, so a public IP address would be great</li>
<li>Controllable DNS server if you don't want to have one on your Linux box</li>
</ul>
</li>
<li>Software requirements
<ul>
<li>~100 MBytes of disk space to be on the safe side</li>
<li>GCC3/4, make, JDK1.5, ant</li>
<li>MySQL installed and started (or other DBMS if you can deal with it)</li>
<li>bison, flex</li>
<li>libxml2 (&gt; 2.6), libmysql - both with development</li>
<li>Linux kernel 2.6 and ipsec-tools (setkey) if you want to use IPSec security</li>
<li>curl and libcurl4-gnutls-dev for the LoST interface of the E-CSCF <l i="">
</l></li><li>Optional: openssl if you would like to enable the TLS security</li>
<li>bind installed and running (or other name server if you can deal with it)</li>
<li>Browser on the box or that can connect to the box (for user provisioning)</li>
<p><b>Note</b>: we consider that you have all this installed, configured and running.</p>
<p><b>Note</b>: we assume for now that you want to install the whole thing on just 1 box. </p>
</ul>
</li>
</ul>
</div>
<p><a name="N10077"></a><a name="step2"></a></p>
<div class="h3">
<h3>Step 2: Get the Source Code</h3>
<ul>
<li>Where? - Fresh code at <a href="https://sourceforge.net/p/openimscore/code">https://sourceforge.net/p/openimscore/code</a><br>
      	 (you will need to have Subversion installed).<br>
      		On <a href="http://www.openimscore.org/?q=download">this page</a> you can find a lot more information about the sources.</li>
<li>What?
<ul>
<li>The CSCFs: ser_ims/trunk</li>
<li>The HSS: FHoSS/trunk</li>
</ul>
</li>
<li>How? - The source code is pre-configured to work from a standard file path:
<ul>
<li>Create /opt/OpenIMSCore and go there<br>
<pre class="code">mkdir /opt/OpenIMSCore
cd /opt/OpenIMSCore</pre></li>
<li>Create a new directory ser_ims and checkout the CSCFs there:<br>
<pre class="code">mkdir ser_ims
svn checkout <a href="https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk" title="https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk">https://svn.code.sf.net/p/openimscore/code/ser_ims/trunk</a> ser_ims</pre></li>
<li>Create a new directory FHoSS and checkout the HSS there:<br>
<pre class="code">mkdir FHoSS
svn checkout <a href="https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk" title="https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk">https://svn.code.sf.net/p/openimscore/code/FHoSS/trunk</a> FHoSS</pre></li>
<li>If you would prefer another path, be prepared to edit the configuration files!</li>
</ul>
</li>
</ul>
</div>
<p><a name="N100B6"></a><a name="step3"></a></p>
<div class="h3">
<h3>Step 3: Compile</h3>
<ul>
<li>ser_ims
<ul>
<li>
<strong> New!!! </strong> Do "make install-libs all" in ser_ims
<pre class="code">cd ser_ims
make install-libs all
cd ..</pre></li>
<li>If something breaks, you probably don't have all the prerequisites.</li>
</ul>
</li>
<li>FHoSS
<ul>
<li>If you don't have a JDK &gt;=1.5, get one before proceeding</li>
<li>Make sure, that the JDK version that you are using is &gt;= 1.5!!!<br>
<pre class="code"># java -version
java version "1.5.0_07"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_07-b03)
Java HotSpot(TM) Client VM (build 1.5.0_07-b03, mixed mode)
			</pre><p>			It is often the case that users have just installed a 1.5 JDK but they are<br>
			    still using their old JDK installation! If you see lots of errors, recheck<br>
			    this before posting a bug report!</p></li>
<li>Do "ant compile deploy" in FHoSS<br>
<strong> New!!! </strong> "ant gen" is not needed any more!!!
<pre class="code">cd FHoSS
ant compile
ant deploy
cd ..</pre></li>
</ul>
</li>
<li>While you wait for the compilation to finish, you can go ahead and perform Step 4.</li>
</ul>
</div>
<p><a name="N100EC"></a><a name="step4"></a></p>
<div class="h3">
<h3>Step 4: Configure the Environment</h3>
<ul>
<li>Notes:
<ul>
<li>All the installation examples configured to work only on the local loopback<br>
      			and the default domain configured as "open-ims.test". </li>
<li>The MySQL access rights are set only for local access</li>
<li>We recommend that you try it first like this and then do your changes:
<ul>
<li>Replace 127.0.0.1 where required with your IP address</li>
<li>Replace the home domain (open-ims.test) with your own one</li>
<li>Change the database passwords</li>
</ul>
<p>					For this operation the ser_ims/cfg/configurator.sh might help you.
				</p></li>
</ul>
</li>
<li>DNS
<ul>
<li>A sample DNS zone file can be found in ser_ims/cfg/open-ims.dnszone</li>
<li>Copy it to your bind configuration directory</li>
<li>Edit named.conf and insert the file there (Would be great to also add reverse DNS entries)</li>
<li>Restart the name server</li>
<li>Test that the names are resolvable (don't forget about /etc/resolv.conf pointing to your new DNS server!)</li>
</ul>
</li>
<li>MySQL
<ul>
<li>Run the SQL dumps (mysql -u root -p -h localhost &lt; dump.sql):<br>
<strong> New!!! </strong> "hssdb.sql" was replaced by "hss_db.sql" !!!
<pre class="code">mysql -u root -p -h localhost &lt; ser_ims/cfg/icscf.sql
mysql -u root -p -h localhost &lt; FHoSS/scripts/hss_db.sql  
mysql -u root -p -h localhost &lt; FHoSS/scripts/userdata.sql
</pre></li>
<li>Check if the databases are in there and accessible</li>
</ul>
</li>
</ul>
</div>
<p><a name="N10136"></a><a name="step5"></a></p>
<div class="h3">
<h3>Step 5: Configure the IMS Core</h3>
<ul>
<li>By now you should have MySQL and DNS working</li>
<li>CSCFs
<ul>
<li>Copy the following files to /opt/OpenIMSCore or another location comfortable for you:<br>
pcscf.cfg, pcscf.sh, icscf.cfg, icscf.xml, icscf.sh, scscf.cfg, scscf.xml, scscf.sh, 
<pre class="code">cp ser_ims/cfg/*.cfg . 
cp ser_ims/cfg/*.xml . 
cp ser_ims/cfg/*.sh .				
					</pre></li>
</ul>
</li>
<li>FHoSS
<ul>
<!--			<li>Copy the following files to /opt/OpenIMSCore or another location comfortable for you: FHoSS.sh	--><!--			<li>Copy the following files to /opt/OpenIMSCore or another location comfortable for you: FHoSS.sh	--><li>Take a look at the configuration files in FHoSS/deploy/ (available after Step 3 completes)</li>
</ul>
</li>
<li>Edit these files to your own preferences (don't forget to update the DNS zone file accordingly and restart the name server)</li>
</ul>
</div>
<p><a name="N1015E"></a><a name="step6"></a></p>
<div class="h3">
<h3>Step 6: Start the components</h3>
<ul>
<li>CSCFs
<ul>
<li>Start pcscf.sh, icscf.sh and scscf.sh</li>
<li>All these should run in parallel.</li>
<li>We love debugging, so by default they would stay in foreground.</li>
<li>By default you should see periodically log messages with the content of the registrar and with the opened diameter links</li>
</ul>
</li>
<li>FHoSS
<ul>
<li>Start FHoSS/deploy/startup.sh</li>
<li>If the previous step fails, check that you have the JAVA_HOME environment variable correctly exported and/or modify the script that you just tried to start.</li>
<li>Check the web interface on <a href="http://localhost:8080/">http://localhost:8080/</a>
</li>
<li>Check if the Diameter Peers are connecting to each other. You can see this in the console of FHoSS or in that of I/S-CSCF</li>
</ul>
</li>
</ul>
</div>
<p><a name="N1018C"></a><a name="step7"></a></p>
<div class="h3">
<h3>Step 7: Configure Subscribers</h3>
<ul>
<li>FHoSS
<ul>
<li>By default, FHoSS comes provisioned with a couple of sample users:
<ul>
<li><a href="mailto:alice@open-ims.test">alice@open-ims.test</a></li>
<li><a href="mailto:bob@open-ims.test">bob@open-ims.test</a></li>
</ul>
</li>
<li>Use these or insert new ones.
<ul>
<li>Create a Subscription</li>
<li>Create a Private Identity</li>
<li>Create a Public Identity</li>
<li>Link them</li>
</ul>
</li>
</ul>
</li>
<li>SIP-to-IMS Gateway
<ul>
<li>The SIP-to-IMS Gateway is now obsolete and was droped from the project. See the Annex and FAQ for information<br>
      			on how you can use the Open IMS Core with SIP clients capable of only MD5 authentication.
      			</li>
</ul>
</li>
<li>IMS User Endpoint Configuration
<ul>
<li>Provision with your own UE data or use one of the default users</li>
<li>Alice:
<ul>
<li>Private Identity: <a href="mailto:alice@open-ims.test">alice@open-ims.test</a></li>
<li>Secret Key: alice</li>
<li>OP: 0x00...0</li>
<li>AMF: 0x00...0</li>
<li>Use of Anonimity Key: enable</li>
<li>Public Identity: sip:alice@open-ims.test</li>
<li>Realm: open-ims.test</li>
<li>Strict Outbound Proxy: sip:pcscf.open-ims.test:4060</li>
</ul>
</li>
<li>Bob: similar</li>
</ul>
</li>
<li>SIP User Endpoint Configuration
<ul>
<li>Alice:
<ul>
<li>User part of the SIP URI: alice</li>
<li>Host part of the SIP URI/Domain/realm: open-ims.test</li>
<li>Password: alice</li>
<li>Strict Outbound Proxy: sip:pcscf.open-ims.test:4060</li>
<li>!!! Make sure that your SIP client does REGISTER sip:open-ims.test and not REGISTER sip:pcscf.open-ims.test:4060</li>
<li>!!! Read the Annex and FAQ related to using MD5-only clients with the Open IMS Core</li>
</ul>
</li>
<li>Bob: similar</li>
</ul>
</li>
</ul>
</div>
<p><a name="N1020E"></a><a name="step8"></a></p>
<div class="h3">
<h3>Step 8: Test!</h3>
<ul>
<li>This is the last step. You should have all installed and configured by now</li>
<li>Registration uses all components and as such, it is a good test if all is up &amp; running</li>
<li>Use Wireshark to see what's going on:
<ul>
<li>Monitor ports 4060, 5060 and 6060 for SIP traffic</li>
<li>Monitor ports 3868, 3869 and 3870 for Diameter traffic</li>
</ul>
</li>
</ul>
</div>
<p><a name="N1022A"></a><a name="annexa"></a></p>
<div class="h3">
<h3>Annex A - DNS HOWTO</h3>
<p>
		A lot of users seem to have difficulties when setting up a DNS server. Although it is not our<br>
		purpose to teach you this, here is a summary of this process. But be aware that this does not means that we<br>
		are offering any further support for it and you don't have to read the DNS manual. If you think that<br>
		/etc/hosts would be enough, you are wrong as it can not help you with special DNS queries like NAPTR and SRV.
	  </p>
<p>
<strong>So how do you get a DNS server up and running?</strong></p>
<ul>
<li>Get the bind (or often called named) package installed on your distribution</li>
<li>Make sure you are root</li>
<li>Locate named.conf (could be in /etc or /etc/bind or /etc/named)</li>
<li>Edit that file according to your needs. Here are some things that you need in there:<br>
<pre class="code">options {
	...
	forward first;
	forwarders {
	    {THE_IP_ADDRESS_OF_YOUR_UPSTREAM_DNS_SERVER;}  ;
	};
	...
};
...

zone "open-ims.test" IN {
	type master;
	file "pri/open-ims.dnszone";
	notify no;
};
...</pre><p>				On some distributions this file includes other files so be sure to dig through those also.<br>
				THE_IP_ADDRESS_OF_YOUR_UPSTREAM_DNS_SERVER can be found in /etc/resolv.conf.
			</p></li>
<li>Now copy the file /opt/OpenIMSCore/ser_ims/cfg/open-ims.dnszone to where you configure it above<br>
			(pri/open-ims.dnszone)
<pre class="code">cp /opt/OpenIMSCore/ser_ims/cfg/open-ims.dnszone /var/bind/pri/
chown -R named:named /var/bind/pri/open-ims.dnszone</pre></li>
<li>Then start or re-start the DNS server (remember that these configuration files are not monitored<br>
			for changes so you will have to send a SIGHUP or do a restart to reload them).
<pre class="code">/etc/init.d/named restart</pre></li>
<li>You should now test if it works. In the response look if you got the correct answer.<br>
<pre class="code">dig @127.0.0.1 pcscf.open-ims.test</pre></li>
<li>To actually use it, you would need to configure it as a DNS server for your machine. Here is<br>
			how your /etc/resolv.conf file should look like:
<pre class="code"># cat /etc/resolv.conf
nameserver 127.0.0.1
search open-ims.test
domain open-ims.test</pre></li>
<li>Remember that utilities like the DHCP-Client overwrite this file be default!</li>
</ul>
</div>
<p><a name="N1026B"></a><a name="annexb"></a></p>
<div class="h3">
<h3>Annex B - SIP Clients How-To</h3>
<p>
		The old SIP2IMS module that was performing MD5-to-AKA authentication translation has been deleted as being<br>
		obsolete as the core can perform MD5 authentication too. Another reason is that it's functionality was seriously<br>
		flawed by the fact that it was a SIP proxy rather than a full B2BUA.
	  </p>
<p>
<strong>So how do you get a client registered?</strong>
</p>
<ul>
<li>First provision the users (or use the default sip:alice@open-ims.test or sip:bob@open-ims.test).<br>
		  	Make sure than in the HSS provisioning interface in the private identity configuration, you allow the<br>
		  	use of Digest-MD5 for the respective users
		  	</li>
<li>Then you have two options for the S-CSCF to trigger an MD5 authentication
<ol>
<li>Modify the client to send a parameter "algorithm=MD5" in the Authorization header in the first<br>
			  		unauthorized REGISTER.</li>
<li>Or modify the scscf.cfg and enable the MD5 authorization as the default authentication method instead<br>
			  		of AKAv1-MD5.</li>
</ol>
</li>
<li>Next just make sure that the client is using the P-CSCF address (sip:pcscf.open-ims.test:4060 by default) as<br>
		  	strict outbound proxy and the REGISTER Request-URI is "sip:open-ims.test" (or your own domain name) and not<br>
		  	"sip:pcscf.open-ims.test:4060" as many SIP clients fail here.</li>
</ul>
</div>
<p><a name="N1028E"></a><a name="annexc"></a></p>
<div class="h3">
<h3>Annex C - Changing the Domain Name and IP-Address of configuration files</h3>
<p>		OpenIMSCore is preconfigured to work with the domain "open-ims.test" and ip address of default loopback device, "127.0.0.1".<br>
		Following the installation instructions above without changing the configuration files would set up this environment<br>
		successfully. For some reasons(like testing roaming,communicating with other external entitites), you would need<br>
		to change the domain name. In that case you could use a configuration script(configurator.sh)  which is stored under<br>
		directory /opt/OpenIMSCore/ser_ims/cfg/</p>
<p>
<strong>Does it only change *.cfg files?</strong>
</p>
<p>
		No, it can also reconfigure *.xml , *.sql and FHoSS configuration files(*.properties).</p>
<p>
<strong>How do I make use of configurator.sh?</strong>
</p>
<ul>
<li> You can directly execute it and fetch the files to be changed as arguments. See the example<br>
			below:
<pre class="code">   
 # pwd    
 /opt/OpenIMSCore
 # ser_ims/cfg/configurator.sh ser_ims/cfg/scscf.cfg ser_ims/cfg/icscf.xml \ 
         FHoSS/deploy/hss_db.sql FHoSS/deploy/hss.properties
			</pre></li>
<li> Then copy the files to the /opt/OpenIMSCore directory </li>
<li> Note that you have to backup your configuration files that you want to reconfigure </li>
</ul>
</div>
</div>
</div>




  </div>

  <div class="clear-block">
    <div class="meta">
          <div class="terms"><ul class="links inline"><li class="taxonomy_term_1 first"><a href="http://www.openimscore.org/?q=taxonomy/term/1" rel="tag" title="Call Session Control Function">CSCF</a></li>
<li class="taxonomy_term_5"><a href="http://www.openimscore.org/?q=taxonomy/term/5" rel="tag" title="Home Subscriber Server">HSS</a></li>
<li class="taxonomy_term_3"><a href="http://www.openimscore.org/?q=taxonomy/term/3" rel="tag" title="Interrogating - Call Session Control Function">I-CSCF</a></li>
<li class="taxonomy_term_2"><a href="http://www.openimscore.org/?q=taxonomy/term/2" rel="tag" title="Proxy - Call Session Control Function">P-CSCF</a></li>
<li class="taxonomy_term_4"><a href="http://www.openimscore.org/?q=taxonomy/term/4" rel="tag" title="Serving - Call Session Control Function">S-CSCF</a></li>
<li class="taxonomy_term_11"><a href="http://www.openimscore.org/?q=taxonomy/term/11" rel="tag" title="Fraunhofer HOme Subscriber Server">FHoSS</a></li>
<li class="taxonomy_term_19 last"><a href="http://www.openimscore.org/?q=taxonomy/term/19" rel="tag" title="">ser_ims</a></li>
</ul></div>
        </div>

          <div class="links"><ul class="links inline"><li class="comment_forbidden first last"><span><a href="http://www.openimscore.org/?q=user/login&destination=comment%2Freply%2F3%23comment-form">Login</a> or <a href="http://www.openimscore.org/?q=user/register&destination=comment%2Freply%2F3%23comment-form">register</a> to post comments</span></li>
</ul></div>
      </div>

</div>
          </div>
                    <div id="footer"><div id="block-block-1" class="clear-block block block-block">


  <div class="content"><p>Copyright © 2004-2008 <a href="http://www.fokus.fraunhofer.de/">Fraunhofer FOKUS</a> <a href="http://www.fokus.fraunhofer.de/go/ngni">NGNI</a>. All rights reserved.<br>
<a href="http://www.openimscore.org/impressum">Publishing Notes</a><br>
Send feedback about the website or general questions about Open-IMS to: info -at- open-ims -dot- org </p>
<script src="./OpenIMSCore Installation Guide   OpenIMSCore.org_files/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-1003265-1";urchinTracker();</script></div>
</div>
</div>
      </div></div></div></div> <!-- /.left-corner, /.right-corner, /#squeeze, /#center -->

      
    </div> <!-- /container -->
  </div>
<!-- /layout -->

    

</body></html>